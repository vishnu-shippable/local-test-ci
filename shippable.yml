language: java

jdk:
  - openjdk7
  - openjdk8
  - openjdk10
  - openjdk11
  - oraclejdk8
  - oraclejdk11
 
build:
  pre_ci_boot:
    image_name: drydock/c7javall
    image_tag: master
    pull: true
  ci:
    - java -version
    - javac -version
    - echo $JAVA_HOME
    - echo $PATH
    - java -version
    - echo $SHIPPABLE_JDK_VERSION
    - mvn --version    
    - gradle --version
    - ant -version
    - javac Hello.java
    - java Hello

    # Apply shipctl patch
#     - git clone https://github.com/scriptnull/node.git nodeRepo
#     - ./nodeRepo/shipctl/x86_64/CentOS_7/install.sh
#     - rm -rf nodeRepo
#     - source shipctl jdk set oraclejdk8
    # Create folders for test and code coverage
#     - mkdir -p shippable/testresults
#     - mkdir -p shippable/codecoverage
#     - mvn install
#     - cp -r target shippable/codecoverage
